<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <title>Our superheroes</title>
    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="exer2heroes.css">
</head>

<body>

    <header>
    </header>

    <section>
    </section>

    <script defer>
        let obxetoJSON; // variable global para almacenar el JSON

        // Funci√≥n para crear el header
        function crearHeader() {
            const header = document.querySelector("header"); // seleccionamos el header correctamente

            const h1 = document.createElement("h1");
            h1.innerText = obxetoJSON.squadName;

            const p = document.createElement("p");
            p.innerText = `Hometown: ${obxetoJSON.homeTown} Formed: ${obxetoJSON.formed}`;

            header.appendChild(h1);
            header.appendChild(p);
        }

        // Crear el XMLHttpRequest
        const xhr = new XMLHttpRequest();
        xhr.open("GET", "https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json");

        xhr.addEventListener("load", function () {
            if (xhr.status === 200) {
                obxetoJSON = JSON.parse(xhr.responseText); // parseamos el JSON
                console.log(obxetoJSON);

                crearHeader();
            } else {
                console.error("Error cargando el JSON:", xhr.status);
            }
        });

        xhr.send();
    </script>
</body>

</html>