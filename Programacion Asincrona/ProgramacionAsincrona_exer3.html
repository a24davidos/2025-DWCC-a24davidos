<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* Voy a hacer el mismo ejercicio pero sin usar lo de github sino otra api para no andar con rollos */

        /* La API de JSONPlaceholder ofrece datos de prueba sobre usuarios, posts y otros recursos.
        Tu objetivo será crear una función async que obtenga información de un usuario dado su ID y la muestre en consola. */

        //Puedo hacerlo de esta forma, que basicamente hace que tenga que consumir la promesa. Async/await siempre devolverán promesas o con un console.log() en la propia función
        async function obterUsuario(id) {

            try{
                const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`)
    
                if (response.status !== 200) throw new Error('Request Failed');

                const data = await response.text()

                return data
                

            } catch (error){
                console.log(error);   
            }
        }

        obterUsuario(1).then(console.log)

        //De esta manera con un console log dentro de la función. 
        async function obterUsuario2(id) {

            try{
                const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`)
    
                if (response.status !== 200) throw new Error('Request Failed');

                const data = await response.text()

                console.log(data);
                                

            } catch (error){
                console.log(error);   
            }
        }

        obterUsuario2(2)

        //También se puede hacer sin el try, catch.
        async function obterUsuario3(id) {
            const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`)

            if (response.status !== 200) throw new Error("Request Failed");
            
            const data = await response.text()

            return data
        }

    
        obterUsuario3(3)
        .then(console.log)
        .catch(error => console.log(error));

        
    </script>
</body>

</html>